pipeline {
    agent any
    
    // environment {
    //     BRANCH_NAME = "${env.GIT_BRANCH}" // This assumes you're using a Git-based project
    // }

    stages {
        // stage('Branch Check') {
        //     steps {
        //         script {
        //             // Define the regular expression pattern to match branches starting with "main"
        //             def regex = ~/^main.*/
                    
        //             // Get the current branch name
        //             def branchName = env.BRANCH_NAME
                    
        //             // Check if the branch name matches the pattern
        //             if (branchName ==~ regex) {
        //                 echo "Branch '${branchName}' matches the pattern 'main.*'."
        //                 // Place your branch-specific steps here
        //                 // Example:
        //                 echo "Running tasks specific to 'main' branches..."
        //             } else {
        //                 echo "Branch '${branchName}' does not match the pattern 'main.*'."
        //                 // Place steps here for branches that do not match
        //                 // Example:
        //                 echo "Running tasks for non-main branches..."
        //             }
        //         }
        //     }
        // }
        
        // Add other stages as needed
        stage('Build') {
            steps {
                echo "Building the project..."
                // Add your build steps here
            }
        }
        
        stage('Test') {
            steps {
                echo "Running tests..."
                // Add your test steps here
            }
        }
        
        stage('Deploy') {
            steps {
                echo "Deploying the project..."
                // Add your deployment steps here
            }
        }
    }
    
    // post {
    //     always {
    //         echo "Pipeline finished."
    //     }
    // }
}
